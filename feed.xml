<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="cn"><generator uri="https://jekyllrb.com/" version="4.3.2">Jekyll</generator><link href="https://yh-phys.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://yh-phys.github.io/" rel="alternate" type="text/html" hreflang="cn"/><updated>2023-09-12T12:06:39+00:00</updated><id>https://yh-phys.github.io/feed.xml</id><title type="html">blank</title><subtitle>A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. </subtitle><entry><title type="html">Installation notes for ABINIT</title><link href="https://yh-phys.github.io/blog/2019/01/" rel="alternate" type="text/html" title="Installation notes for ABINIT"/><published>2019-11-29T09:20:13+00:00</published><updated>2019-11-29T09:20:13+00:00</updated><id>https://yh-phys.github.io/blog/2019/01</id><content type="html" xml:base="https://yh-phys.github.io/blog/2019/01/"><![CDATA[<p>编译环境：Intel2015+impi</p> <h1 id="准备工作">准备工作</h1> <ul> <li>在<a href="https://www.abinit.org/">Abinit</a>官网下载最新版安装包abinit-8.10.3。</li> <li>下载附加程序包<a href="https://www.abinit.org/fallbacks">这里</a>：LibXC 3.0.0，NetCDF 4.1.1和LAPACK for Abinit ≥ 6.10。</li> </ul> <h1 id="安装过程">安装过程</h1> <ul> <li>上传安装包与附加程序包到指定安装路径，此处以~/software/为例。</li> <li>解压缩并在abinit-8.10.3中新建build与tarballs文件夹。 <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">tar </span>zxvf abinit-8.10.3.tar.gz <span class="o">&amp;&amp;</span> <span class="nb">cd </span>abinit-8.10.3 <span class="o">&amp;&amp;</span> <span class="nb">mkdir </span>build tarballs
</code></pre></div> </div> </li> <li>将LibXC 3.0.0，NetCDF 4.1.1和LAPACK for Abinit ≥ 6.10拷贝到tarballs中。</li> <li>进入build文件夹中，并查看计算机名称。 <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">hostname</span>
</code></pre></div> </div> </li> <li>在build中建立hostname.ac文件，内容如下： <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ================================================================
# Configuration file for ABINIT 8 compilation on COBALT
# tested for Intel2015 + impi
#
# ================================================================
#
 FC="mpiifort"
 CC="mpiicc"
 CXX="mpicxx"
#
 enable_mpi="yes"
 enable_openmp="yes"
#
 with_linalg_flavor="mkl+scalapack"
 with_linalg_libs=${SCALAPACK_LDFLAGS}
#
 with_fft_flavor="fftw3"
 with_fft_incs="-I${MKL_INCDIR}"
 with_fft_libs=${MKL_LDFLAGS}
#
 with_trio_flavor="netcdf"
 with_dft_flavor="libxc"
</code></pre></div> </div> </li> <li>在build中执行configure如下： <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>../configure --with-tardir=~/software/abinit-8.10.3/tarballs !根据自己机器路径修改
</code></pre></div> </div> </li> <li>如果configure过程没有报错，即可编译： <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make mj4
</code></pre></div> </div> </li> </ul> <h1 id="编译测试">编译测试</h1> <p>在build中执行：</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd tests &amp;&amp; ../../tests/runtests.py fast
</code></pre></div></div> <p>如果测试通过，则完成编译。 编译好的可执行文件为：</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/software/abinit-8.10.3/build/src/98_main/abinit 
</code></pre></div></div> <h1 id="参考资料">参考资料</h1> <ul> <li>Abinit官网：https://www.abinit.org/</li> <li>Course and Hands-on session material：https://school2019.abinit.org/course-material</li> </ul>]]></content><author><name></name></author><category term="compile"/><category term="Abinit"/><summary type="html"><![CDATA[基于Intel2015+impi编译器编译并行版Abinit软件的方法说明]]></summary></entry></feed>